import{__getNamedExports as mt}from"../../../__next-on-pages-dist__/webpack/0db62fc21f400f4ff93662ca787c3a50.js";import{__getNamedExports as vt}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var Ae=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/hello"),U=mt(Ae,Ae,Ae),_t=U.__chunk_6195,yt=U.__chunk_2067,wt=U.__chunk_1548,xt=U.__chunk_2780,bt=U.__chunk_5612,Et=U.__chunk_9614,St=U.__chunk_3628,kt=U.__chunk_5403,Pt=U.__chunk_3,Ct=U.__chunk_9814,Rt=U.__chunk_7114,At=U.__chunk_7894,Tt=U.__chunk_4414,Nt=U.__chunk_9307,Ot=U.__chunk_74,Dt=U.__chunk_7257,It=U.__chunk_7398,Mt=U.__chunk_6839,Ht=U.__chunk_5027,jt=U.__chunk_2738,Lt=U.__chunk_2113,Ut=U.__chunk_2860,$t=U.__chunk_7460,qt=U.__chunk_8427,Ft=U.__chunk_8997,Bt=U.__chunk_8024,Gt=U.__chunk_2403,Xt=U.__chunk_8690,Jt=U.__chunk_6087,Kt=U.__chunk_6265,Wt=U.__chunk_8610,zt=U.__chunk_7959,Yt=U.__chunk_4303,Vt=U.__chunk_3326,Qt=U.__chunk_391,Zt=U.__chunk_8789,er=U.__chunk_552,tr=U.__chunk_7649,rr=U.__chunk_2501,nr=U.__chunk_6443,sr=U.__chunk_2034,ar=U.__chunk_3131,Ge=vt(Ae,Ae,Ae),ir=Ge.__NEXT_FONT_MANIFEST,or=Ge.__REACT_LOADABLE_MANIFEST,lr=Ge.__BUILD_MANIFEST,dr=((pe,fe,hr)=>(fe._ENTRIES={},pe.__BUILD_MANIFEST=lr,pe.__REACT_LOADABLE_MANIFEST=or,pe.__NEXT_FONT_MANIFEST=ir,pe.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",pe.__PRERENDER_MANIFEST='{"version":4,"routes":{"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"},"/favicon.ico":{"initialHeaders":{"cache-control":"public, max-age=0, must-revalidate","content-type":"image/x-icon","x-next-cache-tags":"_N_T_/layout,_N_T_/favicon.ico/layout,_N_T_/favicon.ico/route,_N_T_/favicon.ico"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/favicon.ico","dataRoute":null}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var V={},X={};function l(y){var C=X[y];if(C!==void 0)return C.exports;var b=X[y]={exports:{}},N=!0;try{V[y](b,b.exports,l),N=!1}finally{N&&delete X[y]}return b.exports}l.m=V,(()=>{var y=[];l.O=(C,b,N,m)=>{if(b){m=m||0;for(var h=y.length;h>0&&y[h-1][2]>m;h--)y[h]=y[h-1];y[h]=[b,N,m];return}for(var p=1/0,h=0;h<y.length;h++){for(var[b,N,m]=y[h],n=!0,i=0;i<b.length;i++)p>=m&&Object.keys(l.O).every(E=>l.O[E](b[i]))?b.splice(i--,1):(n=!1,m<p&&(p=m));if(n){y.splice(h--,1);var s=N();s!==void 0&&(C=s)}}return C}})(),l.n=y=>{var C=y&&y.__esModule?()=>y.default:()=>y;return l.d(C,{a:C}),C},l.d=(y,C)=>{for(var b in C)l.o(C,b)&&!l.o(y,b)&&Object.defineProperty(y,b,{enumerable:!0,get:C[b]})},l.e=()=>Promise.resolve(),l.g=function(){if(typeof fe=="object")return fe;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(y,C)=>Object.prototype.hasOwnProperty.call(y,C),l.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},(()=>{var y={993:0};l.O.j=N=>y[N]===0;var C=(N,m)=>{var h,p,[n,i,s]=m,t=0;if(n.some(f=>y[f]!==0)){for(h in i)l.o(i,h)&&(l.m[h]=i[h]);if(s)var o=s(l)}for(N&&N(m);t<n.length;t++)p=n[t],l.o(y,p)&&y[p]&&y[p][0](),y[p]=0;return l.O(o)},b=pe.webpackChunk_N_E=pe.webpackChunk_N_E||[];b.forEach(C.bind(null,0)),b.push=C.bind(null,b.push.bind(b))})()})(),(pe.webpackChunk_N_E=pe.webpackChunk_N_E||[]).push([[531],{3131:ar,2034:sr,6443:nr,2501:rr,7649:tr,552:er,8789:Zt,391:Qt,3326:Vt,4303:Yt,7959:zt,8610:Wt,6265:Kt,6087:Jt,8690:Xt,2403:Gt,8024:Bt,8997:Ft,8427:qt,7460:$t,2860:Ut,2113:Lt,2738:jt,5027:Ht,6839:Mt,7398:It,7257:Dt,74:Ot,9307:Nt,4414:Tt,7894:At,7114:Rt,9814:Ct,3:Pt,5403:kt,3628:St,9614:Et,5612:bt,2780:xt,1548:wt}]),(pe.webpackChunk_N_E=pe.webpackChunk_N_E||[]).push([[234],{2067:yt,6195:_t,3503:(V,X,l)=>{"use strict";let y,C,b;l.r(X),l.d(X,{ComponentMod:()=>ft,default:()=>gt});var N={};l.r(N),l.d(N,{GET:()=>ut,runtime:()=>ht});var m={};async function h(){let d="globalThis._ENTRIES"in fe&&fe._ENTRIES.middleware_instrumentation&&(await fe._ENTRIES.middleware_instrumentation).register;if(d)try{await d()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}l.r(m),l.d(m,{originalPathname:()=>dt,patchFetch:()=>pt,requestAsyncStorage:()=>ct,routeModule:()=>Be,serverHooks:()=>Ye,staticGenerationAsyncStorage:()=>ze});let p=null;function n(){return p||(p=h()),p}function i(d){return`The edge runtime does not support Node.js '${d}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==l.g.process&&(process.env=l.g.process.env,l.g.process=process),Object.defineProperty(fe,"__import_unsupported",{value:function(d){let e=new Proxy(function(){},{get(r,a){if(a==="then")return{};throw Error(i(d))},construct(){throw Error(i(d))},apply(r,a,g){if(typeof g[0]=="function")return g[0](e);throw Error(i(d))}});return new Proxy({},{get:()=>e})},enumerable:!1,configurable:!0}),n();class s extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class t extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class o extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}function f(d){let e={},r=[];if(d)for(let[a,g]of d.entries())a.toLowerCase()==="set-cookie"?(r.push(...function(_){var D,L,Z,O,w,I=[],P=0;function G(){for(;P<_.length&&/\s/.test(_.charAt(P));)P+=1;return P<_.length}for(;P<_.length;){for(D=P,w=!1;G();)if((L=_.charAt(P))===","){for(Z=P,P+=1,G(),O=P;P<_.length&&(L=_.charAt(P))!=="="&&L!==";"&&L!==",";)P+=1;P<_.length&&_.charAt(P)==="="?(w=!0,P=O,I.push(_.substring(D,Z)),D=P):P=Z+1}else P+=1;(!w||P>=_.length)&&I.push(_.substring(D,_.length))}return I}(g)),e[a]=r.length===1?r[0]:r):e[a]=g;return e}function u(d){try{return String(new URL(String(d)))}catch(e){throw Error(`URL is malformed "${String(d)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:e})}}let E=Symbol("response"),x=Symbol("passThrough"),S=Symbol("waitUntil");class j{constructor(e){this[S]=[],this[x]=!1}respondWith(e){this[E]||(this[E]=Promise.resolve(e))}passThroughOnException(){this[x]=!0}waitUntil(e){this[S].push(e)}}class R extends j{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new s({page:this.sourcePage})}respondWith(){throw new s({page:this.sourcePage})}}var F=l(9814);function Y(d){let e=d.indexOf("#"),r=d.indexOf("?"),a=r>-1&&(e<0||r<e);return a||e>-1?{pathname:d.substring(0,a?r:e),query:a?d.substring(r,e>-1?e:void 0):"",hash:e>-1?d.slice(e):""}:{pathname:d,query:"",hash:""}}function ae(d,e){if(!d.startsWith("/")||!e)return d;let{pathname:r,query:a,hash:g}=Y(d);return""+e+r+a+g}function he(d,e){if(!d.startsWith("/")||!e)return d;let{pathname:r,query:a,hash:g}=Y(d);return""+r+e+a+g}function K(d,e){if(typeof d!="string")return!1;let{pathname:r}=Y(d);return r===e||r.startsWith(e+"/")}var q=l(74);let c=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function A(d,e){return new URL(String(d).replace(c,"localhost"),e&&String(e).replace(c,"localhost"))}let v=Symbol("NextURLInternal");class W{constructor(e,r,a){let g,_;typeof r=="object"&&"pathname"in r||typeof r=="string"?(g=r,_=a||{}):_=a||r||{},this[v]={url:A(e,g??_.base),options:_,basePath:""},this.analyze()}analyze(){var e,r,a,g,_;let D=function(O,w){var I,P;let{basePath:G,i18n:T,trailingSlash:me}=(I=w.nextConfig)!=null?I:{},ee={pathname:O,trailingSlash:O!=="/"?O.endsWith("/"):me};G&&K(ee.pathname,G)&&(ee.pathname=function(J,ve){if(!K(J,ve))return J;let de=J.slice(ve.length);return de.startsWith("/")?de:"/"+de}(ee.pathname,G),ee.basePath=G);let M=ee.pathname;if(ee.pathname.startsWith("/_next/data/")&&ee.pathname.endsWith(".json")){let J=ee.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),ve=J[0];ee.buildId=ve,M=J[1]!=="index"?"/"+J.slice(1).join("/"):"/",w.parseData===!0&&(ee.pathname=M)}if(T){let J=w.i18nProvider?w.i18nProvider.analyze(ee.pathname):(0,q.h)(ee.pathname,T.locales);ee.locale=J.detectedLocale,ee.pathname=(P=J.pathname)!=null?P:ee.pathname,!J.detectedLocale&&ee.buildId&&(J=w.i18nProvider?w.i18nProvider.analyze(M):(0,q.h)(M,T.locales)).detectedLocale&&(ee.locale=J.detectedLocale)}return ee}(this[v].url.pathname,{nextConfig:this[v].options.nextConfig,parseData:!0,i18nProvider:this[v].options.i18nProvider}),L=function(O,w){let I;if(w?.host&&!Array.isArray(w.host))I=w.host.toString().split(":",1)[0];else{if(!O.hostname)return;I=O.hostname}return I.toLowerCase()}(this[v].url,this[v].options.headers);this[v].domainLocale=this[v].options.i18nProvider?this[v].options.i18nProvider.detectDomainLocale(L):function(O,w,I){if(O)for(let T of(I&&(I=I.toLowerCase()),O)){var P,G;if(w===((P=T.domain)==null?void 0:P.split(":",1)[0].toLowerCase())||I===T.defaultLocale.toLowerCase()||((G=T.locales)==null?void 0:G.some(me=>me.toLowerCase()===I)))return T}}((r=this[v].options.nextConfig)==null||(e=r.i18n)==null?void 0:e.domains,L);let Z=((a=this[v].domainLocale)==null?void 0:a.defaultLocale)||((_=this[v].options.nextConfig)==null||(g=_.i18n)==null?void 0:g.defaultLocale);this[v].url.pathname=D.pathname,this[v].defaultLocale=Z,this[v].basePath=D.basePath??"",this[v].buildId=D.buildId,this[v].locale=D.locale??Z,this[v].trailingSlash=D.trailingSlash}formatPathname(){var e;let r;return r=function(a,g,_,D){if(!g||g===_)return a;let L=a.toLowerCase();return!D&&(K(L,"/api")||K(L,"/"+g.toLowerCase()))?a:ae(a,"/"+g)}((e={basePath:this[v].basePath,buildId:this[v].buildId,defaultLocale:this[v].options.forceLocale?void 0:this[v].defaultLocale,locale:this[v].locale,pathname:this[v].url.pathname,trailingSlash:this[v].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(r=(0,F.Q)(r)),e.buildId&&(r=he(ae(r,"/_next/data/"+e.buildId),e.pathname==="/"?"index.json":".json")),r=ae(r,e.basePath),!e.buildId&&e.trailingSlash?r.endsWith("/")?r:he(r,"/"):(0,F.Q)(r)}formatSearch(){return this[v].url.search}get buildId(){return this[v].buildId}set buildId(e){this[v].buildId=e}get locale(){return this[v].locale??""}set locale(e){var r,a;if(!this[v].locale||!(!((a=this[v].options.nextConfig)==null||(r=a.i18n)==null)&&r.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[v].locale=e}get defaultLocale(){return this[v].defaultLocale}get domainLocale(){return this[v].domainLocale}get searchParams(){return this[v].url.searchParams}get host(){return this[v].url.host}set host(e){this[v].url.host=e}get hostname(){return this[v].url.hostname}set hostname(e){this[v].url.hostname=e}get port(){return this[v].url.port}set port(e){this[v].url.port=e}get protocol(){return this[v].url.protocol}set protocol(e){this[v].url.protocol=e}get href(){let e=this.formatPathname(),r=this.formatSearch();return`${this.protocol}//${this.host}${e}${r}${this.hash}`}set href(e){this[v].url=A(e),this.analyze()}get origin(){return this[v].url.origin}get pathname(){return this[v].url.pathname}set pathname(e){this[v].url.pathname=e}get hash(){return this[v].url.hash}set hash(e){this[v].url.hash=e}get search(){return this[v].url.search}set search(e){this[v].url.search=e}get password(){return this[v].url.password}set password(e){this[v].url.password=e}get username(){return this[v].url.username}set username(e){this[v].url.username=e}get basePath(){return this[v].basePath}set basePath(e){this[v].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new W(String(this),this[v].options)}}var _e=l(1812);let ge=Symbol("internal request");class Ee extends Request{constructor(e,r={}){let a=typeof e!="string"&&"url"in e?e.url:String(e);u(a),e instanceof Request?super(e,r):super(a,r);let g=new W(a,{headers:f(this.headers),nextConfig:r.nextConfig});this[ge]={cookies:new _e.q(this.headers),geo:r.geo||{},ip:r.ip,nextUrl:g,url:g.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[ge].cookies}get geo(){return this[ge].geo}get ip(){return this[ge].ip}get nextUrl(){return this[ge].nextUrl}get page(){throw new t}get ua(){throw new o}get url(){return this[ge].url}}let De=Symbol("internal response"),Ie=new Set([301,302,303,307,308]);function Se(d,e){var r;if(!(d==null||(r=d.request)==null)&&r.headers){if(!(d.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let a=[];for(let[g,_]of d.request.headers)e.set("x-middleware-request-"+g,_),a.push(g);e.set("x-middleware-override-headers",a.join(","))}}class Te extends Response{constructor(e,r={}){super(e,r),this[De]={cookies:new _e.n(this.headers),url:r.url?new W(r.url,{headers:f(this.headers),nextConfig:r.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[De].cookies}static json(e,r){let a=Response.json(e,r);return new Te(a.body,a)}static redirect(e,r){let a=typeof r=="number"?r:r?.status??307;if(!Ie.has(a))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let g=typeof r=="object"?r:{},_=new Headers(g?.headers);return _.set("Location",u(e)),new Te(null,{...g,headers:_,status:a})}static rewrite(e,r){let a=new Headers(r?.headers);return a.set("x-middleware-rewrite",u(e)),Se(r,a),new Te(null,{...r,headers:a})}static next(e){let r=new Headers(e?.headers);return r.set("x-middleware-next","1"),Se(e,r),new Te(null,{...e,headers:r})}}function Ce(d,e){let r=typeof e=="string"?new URL(e):e,a=new URL(d,e),g=r.protocol+"//"+r.host;return a.protocol+"//"+a.host===g?a.toString().replace(g,""):a.toString()}var Re=l(8690);l(9859);let ke={client:"client",server:"server",edgeServer:"edge-server"};ke.client,ke.server,ke.edgeServer,Symbol("polyfills");let Me=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",Re.H4],He=["__nextDataReq"];var je=l(7894),ie=l(8997),Le=l(5257),Ue=l(2780),Oe=l(5027),$e=l(2738);class qe extends Ee{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new s({page:this.sourcePage})}respondWith(){throw new s({page:this.sourcePage})}waitUntil(){throw new s({page:this.sourcePage})}}let k={keys:d=>Array.from(d.keys()),get:(d,e)=>d.get(e)??void 0},$=(d,e)=>(0,Oe.Yz)().withPropagatedContext(d.headers,e,k),H=!1;async function ye(d){let e,r;(function(){if(!H&&(H=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:M,wrapRequestHandler:J}=l(5524);M(),$=J($)}})(),await n();let a=pe.__BUILD_MANIFEST!==void 0,g=typeof pe.__PRERENDER_MANIFEST=="string"?JSON.parse(pe.__PRERENDER_MANIFEST):void 0;d.request.url=(0,je.b)(d.request.url);let _=new W(d.request.url,{headers:d.request.headers,nextConfig:d.request.nextConfig});for(let M of[..._.searchParams.keys()]){let J=_.searchParams.getAll(M);if(M!==ie.dN&&M.startsWith(ie.dN)){let ve=M.substring(ie.dN.length);for(let de of(_.searchParams.delete(ve),J))_.searchParams.append(ve,de);_.searchParams.delete(M)}}let D=_.buildId;_.buildId="";let L=d.request.headers["x-nextjs-data"];L&&_.pathname==="/index"&&(_.pathname="/");let Z=function(M){let J=new Headers;for(let[ve,de]of Object.entries(M))for(let be of Array.isArray(de)?de:[de])be!==void 0&&(typeof be=="number"&&(be=be.toString()),J.append(ve,be));return J}(d.request.headers),O=new Map;if(!a)for(let M of Re.vu){let J=M.toString().toLowerCase();Z.get(J)&&(O.set(J,Z.get(J)),Z.delete(J))}let w=new qe({page:d.page,input:function(M,J){let ve=typeof M=="string",de=ve?new URL(M):M;for(let be of Me)de.searchParams.delete(be);if(J)for(let be of He)de.searchParams.delete(be);return ve?de.toString():de}(_,!0).toString(),init:{body:d.request.body,geo:d.request.geo,headers:Z,ip:d.request.ip,method:d.request.method,nextConfig:d.request.nextConfig,signal:d.request.signal}});L&&Object.defineProperty(w,"__isData",{enumerable:!1,value:!0}),!fe.__incrementalCache&&d.IncrementalCache&&(fe.__incrementalCache=new d.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:d.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"development-id"}})}));let I=new R({request:w,page:d.page});if((e=await $(w,()=>d.page==="/middleware"||d.page==="/src/middleware"?(0,Oe.Yz)().trace($e.dI.execute,{spanName:`middleware ${w.method} ${w.nextUrl.pathname}`,attributes:{"http.target":w.nextUrl.pathname,"http.method":w.method}},()=>Le.B.wrap(Ue.O,{req:w,renderOpts:{onUpdateCookies:M=>{r=M},previewProps:g?.preview||{previewModeId:"development-id",previewModeEncryptionKey:"",previewModeSigningKey:""}}},()=>d.handler(w,I))):d.handler(w,I)))&&!(e instanceof Response))throw TypeError("Expected an instance of Response to be returned");e&&r&&e.headers.set("set-cookie",r);let P=e?.headers.get("x-middleware-rewrite");if(e&&P&&!a){let M=new W(P,{forceLocale:!0,headers:d.request.headers,nextConfig:d.request.nextConfig});M.host===w.nextUrl.host&&(M.buildId=D||M.buildId,e.headers.set("x-middleware-rewrite",String(M)));let J=Ce(String(M),String(_));L&&e.headers.set("x-nextjs-rewrite",J)}let G=e?.headers.get("Location");if(e&&G&&!a){let M=new W(G,{forceLocale:!1,headers:d.request.headers,nextConfig:d.request.nextConfig});e=new Response(e.body,e),M.host===w.nextUrl.host&&(M.buildId=D||M.buildId,e.headers.set("Location",String(M))),L&&(e.headers.delete("Location"),e.headers.set("x-nextjs-redirect",Ce(String(M),String(_))))}let T=e||Te.next(),me=T.headers.get("x-middleware-override-headers"),ee=[];if(me){for(let[M,J]of O)T.headers.set(`x-middleware-request-${M}`,J),ee.push(M);ee.length>0&&T.headers.set("x-middleware-override-headers",me+","+ee.join(","))}return{response:T,waitUntil:Promise.all(I[S]),fetchMetrics:w.fetchMetrics}}var oe=l(1616),z=l.n(oe);let re=0,B="x-vercel-cache-tags",te="x-vercel-sc-headers",ne="x-vercel-revalidate",we="x-vercel-cache-item-name",Q=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;async function ue(d,e,r=0){let a=new AbortController,g=setTimeout(()=>{a.abort()},500);return fetch(d,{...e||{},signal:a.signal}).catch(_=>{if(r!==3)return Q&&console.log(`Fetch failed for ${d} retry ${r}`),ue(d,e,r+1);throw _}).finally(()=>{clearTimeout(g)})}class le{hasMatchingTags(e,r){if(e.length!==r.length)return!1;let a=new Set(e),g=new Set(r);if(a.size!==g.size)return!1;for(let _ of a)if(!g.has(_))return!1;return!0}static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.headers={},this.headers["Content-Type"]="application/json",te in e._requestHeaders){let g=JSON.parse(e._requestHeaders[te]);for(let _ in g)this.headers[_]=g[_];delete e._requestHeaders[te]}let r=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,a=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;if(process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),r){let g=process.env.SUSPENSE_CACHE_PROTO||"https";this.cacheEndpoint=`${g}://${r}${a||""}`,Q&&console.log("using cache endpoint",this.cacheEndpoint)}else Q&&console.log("no cache endpoint available");e.maxMemoryCacheSize?y||(Q&&console.log("using memory store for fetch cache"),y=new(z())({max:e.maxMemoryCacheSize,length({value:g}){var _;if(!g)return 25;if(g.kind==="REDIRECT")return JSON.stringify(g.props).length;if(g.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return g.kind==="FETCH"?JSON.stringify(g.data||"").length:g.kind==="ROUTE"?g.body.length:g.html.length+(((_=JSON.stringify(g.kind==="PAGE"&&g.pageData))==null?void 0:_.length)||0)}})):Q&&console.log("not using memory store for fetch cache")}resetRequestCache(){y?.reset()}async revalidateTag(...e){let[r]=e;if(r=typeof r=="string"?[r]:r,Q&&console.log("revalidateTag",r),r.length){if(Date.now()<re){Q&&console.log("rate limited ",re);return}try{let a=await ue(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${r.map(g=>encodeURIComponent(g)).join(",")}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(a.status===429){let g=a.headers.get("retry-after")||"60000";re=Date.now()+parseInt(g)}if(!a.ok)throw Error(`Request failed with status ${a.status}.`)}catch(a){console.warn(`Failed to revalidate tag ${r}`,a)}}}async get(...e){var r;let[a,g={}]=e,{tags:_,softTags:D,kindHint:L,fetchIdx:Z,fetchUrl:O}=g;if(L!=="fetch")return null;if(Date.now()<re)return Q&&console.log("rate limited"),null;let w=y?.get(a),I=(w==null||(r=w.value)==null?void 0:r.kind)==="FETCH"&&this.hasMatchingTags(_??[],w.value.tags??[]);if(this.cacheEndpoint&&(!w||!I))try{let P=Date.now(),G=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${a}`,{method:"GET",headers:{...this.headers,[we]:O,[B]:_?.join(",")||"",[ie.Ar]:D?.join(",")||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:O,fetchIdx:Z}});if(G.status===429){let M=G.headers.get("retry-after")||"60000";re=Date.now()+parseInt(M)}if(G.status===404)return Q&&console.log(`no fetch cache entry for ${a}, duration: ${Date.now()-P}ms`),null;if(!G.ok)throw console.error(await G.text()),Error(`invalid response from cache ${G.status}`);let T=await G.json();if(!T||T.kind!=="FETCH")throw Q&&console.log({cached:T}),Error("invalid cache value");if(T.kind==="FETCH")for(let M of(T.tags??=[],_??[]))T.tags.includes(M)||T.tags.push(M);let me=G.headers.get("x-vercel-cache-state"),ee=G.headers.get("age");w={value:T,lastModified:me!=="fresh"?Date.now()-ie.BR:Date.now()-1e3*parseInt(ee||"0",10)},Q&&console.log(`got fetch cache entry for ${a}, duration: ${Date.now()-P}ms, size: ${Object.keys(T).length}, cache-state: ${me} tags: ${_?.join(",")} softTags: ${D?.join(",")}`),w&&y?.set(a,w)}catch(P){Q&&console.error("Failed to get from fetch-cache",P)}return w||null}async set(...e){let[r,a,g]=e,_=a?.kind==="FETCH"?a.data:void 0,D=y?.get(r),L=D?.value;if(L?.kind==="FETCH"&&Object.keys(L.data).every(P=>JSON.stringify(L.data[P])===JSON.stringify(_[P]))){Q&&console.log(`skipping cache set for ${r} as not modified`);return}let{fetchCache:Z,fetchIdx:O,fetchUrl:w,tags:I}=g;if(Z){if(Date.now()<re){Q&&console.log("rate limited");return}if(y?.set(r,{value:a,lastModified:Date.now()}),this.cacheEndpoint)try{let P=Date.now();a!==null&&"revalidate"in a&&(this.headers[ne]=a.revalidate.toString()),!this.headers[ne]&&a!==null&&"data"in a&&(this.headers["x-vercel-cache-control"]=a.data.headers["cache-control"]);let G=JSON.stringify({...a,tags:void 0});Q&&console.log("set cache",r);let T=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${r}`,{method:"POST",headers:{...this.headers,[we]:w||"",[B]:I?.join(",")||""},body:G,next:{internal:!0,fetchType:"cache-set",fetchUrl:w,fetchIdx:O}});if(T.status===429){let me=T.headers.get("retry-after")||"60000";re=Date.now()+parseInt(me)}if(!T.ok)throw Q&&console.log(await T.text()),Error(`invalid response ${T.status}`);Q&&console.log(`successfully set to fetch-cache for ${r}, duration: ${Date.now()-P}ms, size: ${G.length}`)}catch(P){Q&&console.error("Failed to update fetch cache",P)}}}}var Pe=l(9307),ce=l.n(Pe);class se{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,this.pagesDir=!!e._pagesDir,this.revalidatedTags=e.revalidatedTags,this.experimental=e.experimental,this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,e.maxMemoryCacheSize&&!C?(this.debug&&console.log("using memory store for fetch cache"),C=new(z())({max:e.maxMemoryCacheSize,length({value:r}){var a;if(!r)return 25;if(r.kind==="REDIRECT")return JSON.stringify(r.props).length;if(r.kind==="IMAGE")throw Error("invariant image should not be incremental-cache");return r.kind==="FETCH"?JSON.stringify(r.data||"").length:r.kind==="ROUTE"?r.body.length:r.html.length+(((a=JSON.stringify(r.pageData))==null?void 0:a.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache"),this.serverDistDir&&this.fs&&(this.tagsManifestPath=ce().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}resetRequestCache(){}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!b){try{b=JSON.parse(this.fs.readFileSync(this.tagsManifestPath,"utf8"))}catch{b={version:1,items:{}}}this.debug&&console.log("loadTagsManifest",b)}}async revalidateTag(...e){let[r]=e;if(r=typeof r=="string"?[r]:r,this.debug&&console.log("revalidateTag",r),r.length!==0&&(await this.loadTagsManifest(),b&&this.tagsManifestPath)){for(let a of r){let g=b.items[a]||{};g.revalidatedAt=Date.now(),b.items[a]=g}try{await this.fs.mkdir(ce().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(b||{})),this.debug&&console.log("Updated tags manifest",b)}catch(a){console.warn("Failed to update tags manifest.",a)}}}async get(...e){var r,a,g;let[_,D={}]=e,{tags:L,softTags:Z,kindHint:O}=D,w=C?.get(_);if(this.debug&&console.log("get",_,L,O,!!w),(w==null||(r=w.value)==null?void 0:r.kind)==="PAGE"){let I,P=(g=w.value.headers)==null?void 0:g[ie.Et];typeof P=="string"&&(I=P.split(",")),I?.length&&(this.loadTagsManifest(),I.some(G=>{var T;return(b==null||(T=b.items[G])==null?void 0:T.revalidatedAt)&&b?.items[G].revalidatedAt>=(w?.lastModified||Date.now())})&&(w=void 0))}return w&&(w==null||(a=w.value)==null?void 0:a.kind)==="FETCH"&&(this.loadTagsManifest(),[...L||[],...Z||[]].some(I=>{var P;return!!this.revalidatedTags.includes(I)||(b==null||(P=b.items[I])==null?void 0:P.revalidatedAt)&&b?.items[I].revalidatedAt>=(w?.lastModified||Date.now())})&&(w=void 0)),w??null}async set(...e){let[r,a,g]=e;if(C?.set(r,{value:a,lastModified:Date.now()}),this.debug&&console.log("set",r),this.flushToDisk){if(a?.kind==="ROUTE"){let _=this.getFilePath(`${r}.body`,"app");await this.fs.mkdir(ce().dirname(_)),await this.fs.writeFile(_,a.body);let D={headers:a.headers,status:a.status,postponed:void 0};await this.fs.writeFile(_.replace(/\.body$/,ie.EX),JSON.stringify(D,null,2));return}if(a?.kind==="PAGE"){let _=typeof a.pageData=="string",D=this.getFilePath(`${r}.html`,_?"app":"pages");if(await this.fs.mkdir(ce().dirname(D)),await this.fs.writeFile(D,a.html),await this.fs.writeFile(this.getFilePath(`${r}${_?this.experimental.ppr?ie.Sx:ie.hd:ie.JT}`,_?"app":"pages"),_?a.pageData:JSON.stringify(a.pageData)),a.headers||a.status){let L={headers:a.headers,status:a.status,postponed:a.postponed};await this.fs.writeFile(D.replace(/\.html$/,ie.EX),JSON.stringify(L))}}else if(a?.kind==="FETCH"){let _=this.getFilePath(r,"fetch");await this.fs.mkdir(ce().dirname(_)),await this.fs.writeFile(_,JSON.stringify({...a,tags:g.tags}))}}}detectFileKind(e){if(!this.appDir&&!this.pagesDir)throw Error("Invariant: Can't determine file path kind, no page directory enabled");if(!this.appDir&&this.pagesDir)return"pages";if(this.appDir&&!this.pagesDir)return"app";let r=this.getFilePath(e,"pages");if(this.fs.existsSync(r))return"pages";if(r=this.getFilePath(e,"app"),this.fs.existsSync(r))return"app";throw Error(`Invariant: Unable to determine file path kind for ${e}`)}getFilePath(e,r){switch(r){case"fetch":return ce().join(this.serverDistDir,"..","cache","fetch-cache",e);case"pages":return ce().join(this.serverDistDir,"pages",e);case"app":return ce().join(this.serverDistDir,"app",e);default:throw Error("Invariant: Can't determine file path kind")}}}var xe=l(4414),Ne=l(7460);let Qe=/\/\[[^/]+?\](?=\/|$)/;function Xe(d){return(0,Ne.Ag)(d)&&(d=(0,Ne.CK)(d).interceptedRoute),Qe.test(d)}function Je(d){return/^\/index(\/|$)/.test(d)&&!Xe(d)?"/index"+d:d==="/"?"/index":(0,xe.e)(d)}function Ke(d){return d.replace(/\/$/,"").replace(/\/index$/,"")||"/"}l(3628);class Ze{constructor({fs:e,dev:r,appDir:a,pagesDir:g,flushToDisk:_,fetchCache:D,minimalMode:L,serverDistDir:Z,requestHeaders:O,requestProtocol:w,maxMemoryCacheSize:I,getPrerenderManifest:P,fetchCacheKeyPrefix:G,CurCacheHandler:T,allowedRevalidateHeaderKeys:me,experimental:ee}){var M,J,ve,de;this.locks=new Map,this.unlocks=new Map;let be=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;this.hasCustomCacheHandler=!!T,T?be&&console.log("using custom cache handler",T.name):(e&&Z&&(be&&console.log("using filesystem cache handler"),T=se),le.isAvailable({_requestHeaders:O})&&L&&D&&(be&&console.log("using fetch cache handler"),T=le)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(I=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=r,this.disableForTestmode=process.env.NEXT_PRIVATE_TEST_PROXY==="true",this.minimalMode=L,this.requestHeaders=O,this.requestProtocol=w,this.allowedRevalidateHeaderKeys=me,this.prerenderManifest=P(),this.fetchCacheKeyPrefix=G;let Ve=[];O[ie.y3]===((J=this.prerenderManifest)==null||(M=J.preview)==null?void 0:M.previewModeId)&&(this.isOnDemandRevalidate=!0),L&&typeof O[ie.of]=="string"&&O[ie.X_]===((de=this.prerenderManifest)==null||(ve=de.preview)==null?void 0:ve.previewModeId)&&(Ve=O[ie.of].split(",")),T&&(this.cacheHandler=new T({dev:r,fs:e,flushToDisk:_,serverDistDir:Z,revalidatedTags:Ve,maxMemoryCacheSize:I,_pagesDir:!!g,_appDir:!!a,_requestHeaders:O,fetchCacheKeyPrefix:G,experimental:ee}))}calculateRevalidate(e,r,a){if(a)return new Date().getTime()-1e3;let{initialRevalidateSeconds:g}=this.prerenderManifest.routes[Ke(e)]||{initialRevalidateSeconds:1};return typeof g=="number"?1e3*g+r:g}_getPathname(e,r){return r?e:Je(e)}resetRequestCache(){var e,r;(r=this.cacheHandler)==null||(e=r.resetRequestCache)==null||e.call(r)}async unlock(e){let r=this.unlocks.get(e);r&&(r(),this.locks.delete(e),this.unlocks.delete(e))}async lock(e){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let r=()=>Promise.resolve(),a=this.locks.get(e);if(a)await a;else{let g=new Promise(_=>{r=async()=>{_()}});this.locks.set(e,g),this.unlocks.set(e,r)}return r}async revalidateTag(e){var r,a;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,(a=this.cacheHandler)==null||(r=a.revalidateTag)==null?void 0:r.call(a,e)}async fetchCacheKey(e,r={}){let a=[],g=new TextEncoder,_=new TextDecoder;if(r.body)if(typeof r.body.getReader=="function"){let O=r.body,w=[];try{await O.pipeTo(new WritableStream({write(T){typeof T=="string"?(w.push(g.encode(T)),a.push(T)):(w.push(T),a.push(_.decode(T,{stream:!0})))}})),a.push(_.decode());let I=w.reduce((T,me)=>T+me.length,0),P=new Uint8Array(I),G=0;for(let T of w)P.set(T,G),G+=T.length;r._ogBody=P}catch(I){console.error("Problem reading body",I)}}else if(typeof r.body.keys=="function"){let O=r.body;for(let w of(r._ogBody=r.body,new Set([...O.keys()]))){let I=O.getAll(w);a.push(`${w}=${(await Promise.all(I.map(async P=>typeof P=="string"?P:await P.text()))).join(",")}`)}}else if(typeof r.body.arrayBuffer=="function"){let O=r.body,w=await O.arrayBuffer();a.push(await O.text()),r._ogBody=new Blob([w],{type:O.type})}else typeof r.body=="string"&&(a.push(r.body),r._ogBody=r.body);let D=typeof(r.headers||{}).keys=="function"?Object.fromEntries(r.headers):Object.assign({},r.headers);"traceparent"in D&&delete D.traceparent;let L=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,r.method,D,r.mode,r.redirect,r.credentials,r.referrer,r.referrerPolicy,r.integrity,r.cache,a]);{var Z;let O=g.encode(L);return Z=await crypto.subtle.digest("SHA-256",O),Array.prototype.map.call(new Uint8Array(Z),w=>w.toString(16).padStart(2,"0")).join("")}}async get(e,r={}){var a,g,_;let D,L;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&(r.kindHint!=="fetch"||this.requestHeaders["cache-control"]==="no-cache"))return null;e=this._getPathname(e,r.kindHint==="fetch");let Z=null,O=r.revalidate,w=await((a=this.cacheHandler)==null?void 0:a.get(e,r));if((w==null||(g=w.value)==null?void 0:g.kind)==="FETCH")return[...r.tags||[],...r.softTags||[]].some(P=>{var G;return(G=this.revalidatedTags)==null?void 0:G.includes(P)})?null:(O=O||w.value.revalidate,{isStale:(Date.now()-(w.lastModified||0))/1e3>O,value:{kind:"FETCH",data:w.value.data,revalidate:O},revalidateAfter:Date.now()+1e3*O});let I=(_=this.prerenderManifest.routes[Ke(e)])==null?void 0:_.initialRevalidateSeconds;return w?.lastModified===-1?(D=-1,L=-1*ie.BR):D=(L=this.calculateRevalidate(e,w?.lastModified||Date.now(),this.dev&&r.kindHint!=="fetch"))!==!1&&L<Date.now()||void 0,w&&(Z={isStale:D,curRevalidate:I,revalidateAfter:L,value:w.value}),!w&&this.prerenderManifest.notFoundRoutes.includes(e)&&(Z={isStale:D,value:null,curRevalidate:I,revalidateAfter:L},this.set(e,Z.value,r)),Z}async set(e,r,a){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&!a.fetchCache)return;let g=JSON.stringify(r).length;if(a.fetchCache&&!this.hasCustomCacheHandler&&g>2097152){if(this.dev)throw Error(`Failed to set Next.js data cache, items over 2MB can not be cached (${g} bytes)`);return}e=this._getPathname(e,a.fetchCache);try{var _;a.revalidate===void 0||a.fetchCache||(this.prerenderManifest.routes[e]={experimentalPPR:void 0,dataRoute:ce().posix.join("/_next/data",`${Je(e)}.json`),srcRoute:null,initialRevalidateSeconds:a.revalidate,prefetchDataRoute:void 0}),await((_=this.cacheHandler)==null?void 0:_.set(e,r,a))}catch(D){console.warn("Failed to update prerender cache for",e,D)}}}var et=l(3),tt=l(5403);class rt{constructor(e){this.definition=e,Xe(e.pathname)&&(this.dynamic=(0,et.t)((0,tt.vG)(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return this.dynamic!==void 0}match(e){let r=this.test(e);return r?{definition:this.definition,params:r.params}:null}test(e){if(this.dynamic){let r=this.dynamic(e);return r?{params:r}:null}return e===this.definition.pathname?{}:null}}let We=Symbol.for("__next_internal_waitUntil__"),nt=fe[We]||(fe[We]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});var st=l(6839),at=l(7114);class Fe{constructor(e){this.routeModule=e,this.matcher=new rt(e.definition)}static wrap(e,r={}){let a=new Fe(e);return g=>ye({...g,...r,IncrementalCache:Ze,handler:a.handler.bind(a)})}async handler(e,r){let{params:a}=(0,st.IC)({pageIsDynamic:this.matcher.isDynamic,page:this.matcher.definition.pathname,basePath:e.nextUrl.basePath,rewrites:{},caseSensitive:!1}).normalizeDynamicRouteParams((0,at.u5)(e.nextUrl.searchParams)),g=typeof pe.__PRERENDER_MANIFEST=="string"?JSON.parse(pe.__PRERENDER_MANIFEST):void 0,_={params:a,prerenderManifest:{version:4,routes:{},dynamicRoutes:{},preview:g?.preview||{previewModeEncryptionKey:"",previewModeId:"development-id",previewModeSigningKey:""},notFoundRoutes:[]},renderOpts:{supportsDynamicHTML:!0,experimental:{ppr:!1}}},D=await this.routeModule.handle(e,_),L=[nt.waitUntilPromise];return _.renderOpts.waitUntil&&L.push(_.renderOpts.waitUntil),r.waitUntil(Promise.all(L)),D}}var it=l(5514),ot=l(2860),lt=l(2113);let ht="edge";async function ut(d){return new Response("Hello World")}let Be=new it.AppRouteRouteModule({definition:{kind:ot.x.APP_ROUTE,page:"/api/hello/route",pathname:"/api/hello",filename:"route",bundlePath:"app/api/hello/route"},resolvedPagePath:"/home/nikomaru/programming/home-opac/frontend/src/app/api/hello/route.ts",nextConfigOutput:"",userland:N}),{requestAsyncStorage:ct,staticGenerationAsyncStorage:ze,serverHooks:Ye}=Be,dt="/api/hello/route";function pt(){return(0,lt.XH)({serverHooks:Ye,staticGenerationAsyncStorage:ze})}let ft=m,gt=Fe.wrap(Be)},2328:V=>{"use strict";var X=Object.defineProperty,l=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,b={};function N(t){var o;let f=["path"in t&&t.path&&`Path=${t.path}`,"expires"in t&&(t.expires||t.expires===0)&&`Expires=${(typeof t.expires=="number"?new Date(t.expires):t.expires).toUTCString()}`,"maxAge"in t&&typeof t.maxAge=="number"&&`Max-Age=${t.maxAge}`,"domain"in t&&t.domain&&`Domain=${t.domain}`,"secure"in t&&t.secure&&"Secure","httpOnly"in t&&t.httpOnly&&"HttpOnly","sameSite"in t&&t.sameSite&&`SameSite=${t.sameSite}`,"partitioned"in t&&t.partitioned&&"Partitioned","priority"in t&&t.priority&&`Priority=${t.priority}`].filter(Boolean),u=`${t.name}=${encodeURIComponent((o=t.value)!=null?o:"")}`;return f.length===0?u:`${u}; ${f.join("; ")}`}function m(t){let o=new Map;for(let f of t.split(/; */)){if(!f)continue;let u=f.indexOf("=");if(u===-1){o.set(f,"true");continue}let[E,x]=[f.slice(0,u),f.slice(u+1)];try{o.set(E,decodeURIComponent(x??"true"))}catch{}}return o}function h(t){var o,f;if(!t)return;let[[u,E],...x]=m(t),{domain:S,expires:j,httponly:R,maxage:F,path:Y,samesite:ae,secure:he,partitioned:K,priority:q}=Object.fromEntries(x.map(([c,A])=>[c.toLowerCase(),A]));return function(c){let A={};for(let v in c)c[v]&&(A[v]=c[v]);return A}({name:u,value:decodeURIComponent(E),domain:S,...j&&{expires:new Date(j)},...R&&{httpOnly:!0},...typeof F=="string"&&{maxAge:Number(F)},path:Y,...ae&&{sameSite:p.includes(o=(o=ae).toLowerCase())?o:void 0},...he&&{secure:!0},...q&&{priority:n.includes(f=(f=q).toLowerCase())?f:void 0},...K&&{partitioned:!0}})}((t,o)=>{for(var f in o)X(t,f,{get:o[f],enumerable:!0})})(b,{RequestCookies:()=>i,ResponseCookies:()=>s,parseCookie:()=>m,parseSetCookie:()=>h,stringifyCookie:()=>N}),V.exports=((t,o,f,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let E of y(o))C.call(t,E)||E===f||X(t,E,{get:()=>o[E],enumerable:!(u=l(o,E))||u.enumerable});return t})(X({},"__esModule",{value:!0}),b);var p=["strict","lax","none"],n=["low","medium","high"],i=class{constructor(t){this._parsed=new Map,this._headers=t;let o=t.get("cookie");if(o)for(let[f,u]of m(o))this._parsed.set(f,{name:f,value:u})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...t){let o=typeof t[0]=="string"?t[0]:t[0].name;return this._parsed.get(o)}getAll(...t){var o;let f=Array.from(this._parsed);if(!t.length)return f.map(([E,x])=>x);let u=typeof t[0]=="string"?t[0]:(o=t[0])==null?void 0:o.name;return f.filter(([E])=>E===u).map(([E,x])=>x)}has(t){return this._parsed.has(t)}set(...t){let[o,f]=t.length===1?[t[0].name,t[0].value]:t,u=this._parsed;return u.set(o,{name:o,value:f}),this._headers.set("cookie",Array.from(u).map(([E,x])=>N(x)).join("; ")),this}delete(t){let o=this._parsed,f=Array.isArray(t)?t.map(u=>o.delete(u)):o.delete(t);return this._headers.set("cookie",Array.from(o).map(([u,E])=>N(E)).join("; ")),f}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(t=>`${t.name}=${encodeURIComponent(t.value)}`).join("; ")}},s=class{constructor(t){var o,f,u;this._parsed=new Map,this._headers=t;let E=(u=(f=(o=t.getSetCookie)==null?void 0:o.call(t))!=null?f:t.get("set-cookie"))!=null?u:[];for(let x of Array.isArray(E)?E:function(S){if(!S)return[];var j,R,F,Y,ae,he=[],K=0;function q(){for(;K<S.length&&/\s/.test(S.charAt(K));)K+=1;return K<S.length}for(;K<S.length;){for(j=K,ae=!1;q();)if((R=S.charAt(K))===","){for(F=K,K+=1,q(),Y=K;K<S.length&&(R=S.charAt(K))!=="="&&R!==";"&&R!==",";)K+=1;K<S.length&&S.charAt(K)==="="?(ae=!0,K=Y,he.push(S.substring(j,F)),j=K):K=F+1}else K+=1;(!ae||K>=S.length)&&he.push(S.substring(j,S.length))}return he}(E)){let S=h(x);S&&this._parsed.set(S.name,S)}}get(...t){let o=typeof t[0]=="string"?t[0]:t[0].name;return this._parsed.get(o)}getAll(...t){var o;let f=Array.from(this._parsed.values());if(!t.length)return f;let u=typeof t[0]=="string"?t[0]:(o=t[0])==null?void 0:o.name;return f.filter(E=>E.name===u)}has(t){return this._parsed.has(t)}set(...t){let[o,f,u]=t.length===1?[t[0].name,t[0].value,t[0]]:t,E=this._parsed;return E.set(o,function(x={name:"",value:""}){return typeof x.expires=="number"&&(x.expires=new Date(x.expires)),x.maxAge&&(x.expires=new Date(Date.now()+1e3*x.maxAge)),(x.path===null||x.path===void 0)&&(x.path="/"),x}({name:o,value:f,...u})),function(x,S){for(let[,j]of(S.delete("set-cookie"),x)){let R=N(j);S.append("set-cookie",R)}}(E,this._headers),this}delete(...t){let[o,f,u]=typeof t[0]=="string"?[t[0]]:[t[0].name,t[0].path,t[0].domain];return this.set({name:o,path:f,domain:u,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(N).join("; ")}}},1616:V=>{(()=>{"use strict";var X={806:(b,N,m)=>{let h=m(190),p=Symbol("max"),n=Symbol("length"),i=Symbol("lengthCalculator"),s=Symbol("allowStale"),t=Symbol("maxAge"),o=Symbol("dispose"),f=Symbol("noDisposeOnSet"),u=Symbol("lruList"),E=Symbol("cache"),x=Symbol("updateAgeOnGet"),S=()=>1;class j{constructor(c){if(typeof c=="number"&&(c={max:c}),c||(c={}),c.max&&(typeof c.max!="number"||c.max<0))throw TypeError("max must be a non-negative number");this[p]=c.max||1/0;let A=c.length||S;if(this[i]=typeof A!="function"?S:A,this[s]=c.stale||!1,c.maxAge&&typeof c.maxAge!="number")throw TypeError("maxAge must be a number");this[t]=c.maxAge||0,this[o]=c.dispose,this[f]=c.noDisposeOnSet||!1,this[x]=c.updateAgeOnGet||!1,this.reset()}set max(c){if(typeof c!="number"||c<0)throw TypeError("max must be a non-negative number");this[p]=c||1/0,Y(this)}get max(){return this[p]}set allowStale(c){this[s]=!!c}get allowStale(){return this[s]}set maxAge(c){if(typeof c!="number")throw TypeError("maxAge must be a non-negative number");this[t]=c,Y(this)}get maxAge(){return this[t]}set lengthCalculator(c){typeof c!="function"&&(c=S),c!==this[i]&&(this[i]=c,this[n]=0,this[u].forEach(A=>{A.length=this[i](A.value,A.key),this[n]+=A.length})),Y(this)}get lengthCalculator(){return this[i]}get length(){return this[n]}get itemCount(){return this[u].length}rforEach(c,A){A=A||this;for(let v=this[u].tail;v!==null;){let W=v.prev;K(this,c,v,A),v=W}}forEach(c,A){A=A||this;for(let v=this[u].head;v!==null;){let W=v.next;K(this,c,v,A),v=W}}keys(){return this[u].toArray().map(c=>c.key)}values(){return this[u].toArray().map(c=>c.value)}reset(){this[o]&&this[u]&&this[u].length&&this[u].forEach(c=>this[o](c.key,c.value)),this[E]=new Map,this[u]=new h,this[n]=0}dump(){return this[u].map(c=>!F(this,c)&&{k:c.key,v:c.value,e:c.now+(c.maxAge||0)}).toArray().filter(c=>c)}dumpLru(){return this[u]}set(c,A,v){if((v=v||this[t])&&typeof v!="number")throw TypeError("maxAge must be a number");let W=v?Date.now():0,_e=this[i](A,c);if(this[E].has(c)){if(_e>this[p])return ae(this,this[E].get(c)),!1;let Ee=this[E].get(c).value;return this[o]&&!this[f]&&this[o](c,Ee.value),Ee.now=W,Ee.maxAge=v,Ee.value=A,this[n]+=_e-Ee.length,Ee.length=_e,this.get(c),Y(this),!0}let ge=new he(c,A,_e,W,v);return ge.length>this[p]?(this[o]&&this[o](c,A),!1):(this[n]+=ge.length,this[u].unshift(ge),this[E].set(c,this[u].head),Y(this),!0)}has(c){return!!this[E].has(c)&&!F(this,this[E].get(c).value)}get(c){return R(this,c,!0)}peek(c){return R(this,c,!1)}pop(){let c=this[u].tail;return c?(ae(this,c),c.value):null}del(c){ae(this,this[E].get(c))}load(c){this.reset();let A=Date.now();for(let v=c.length-1;v>=0;v--){let W=c[v],_e=W.e||0;if(_e===0)this.set(W.k,W.v);else{let ge=_e-A;ge>0&&this.set(W.k,W.v,ge)}}}prune(){this[E].forEach((c,A)=>R(this,A,!1))}}let R=(q,c,A)=>{let v=q[E].get(c);if(v){let W=v.value;if(F(q,W)){if(ae(q,v),!q[s])return}else A&&(q[x]&&(v.value.now=Date.now()),q[u].unshiftNode(v));return W.value}},F=(q,c)=>{if(!c||!c.maxAge&&!q[t])return!1;let A=Date.now()-c.now;return c.maxAge?A>c.maxAge:q[t]&&A>q[t]},Y=q=>{if(q[n]>q[p])for(let c=q[u].tail;q[n]>q[p]&&c!==null;){let A=c.prev;ae(q,c),c=A}},ae=(q,c)=>{if(c){let A=c.value;q[o]&&q[o](A.key,A.value),q[n]-=A.length,q[E].delete(A.key),q[u].removeNode(c)}};class he{constructor(c,A,v,W,_e){this.key=c,this.value=A,this.length=v,this.now=W,this.maxAge=_e||0}}let K=(q,c,A,v)=>{let W=A.value;F(q,W)&&(ae(q,A),q[s]||(W=void 0)),W&&c.call(v,W.value,W.key,q)};b.exports=j},76:b=>{b.exports=function(N){N.prototype[Symbol.iterator]=function*(){for(let m=this.head;m;m=m.next)yield m.value}}},190:(b,N,m)=>{function h(n){var i=this;if(i instanceof h||(i=new h),i.tail=null,i.head=null,i.length=0,n&&typeof n.forEach=="function")n.forEach(function(o){i.push(o)});else if(arguments.length>0)for(var s=0,t=arguments.length;s<t;s++)i.push(arguments[s]);return i}function p(n,i,s,t){if(!(this instanceof p))return new p(n,i,s,t);this.list=t,this.value=n,i?(i.next=this,this.prev=i):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}b.exports=h,h.Node=p,h.create=h,h.prototype.removeNode=function(n){if(n.list!==this)throw Error("removing node which does not belong to this list");var i=n.next,s=n.prev;return i&&(i.prev=s),s&&(s.next=i),n===this.head&&(this.head=i),n===this.tail&&(this.tail=s),n.list.length--,n.next=null,n.prev=null,n.list=null,i},h.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var i=this.head;n.list=this,n.next=i,i&&(i.prev=n),this.head=n,this.tail||(this.tail=n),this.length++}},h.prototype.pushNode=function(n){if(n!==this.tail){n.list&&n.list.removeNode(n);var i=this.tail;n.list=this,n.prev=i,i&&(i.next=n),this.tail=n,this.head||(this.head=n),this.length++}},h.prototype.push=function(){for(var n,i=0,s=arguments.length;i<s;i++)n=arguments[i],this.tail=new p(n,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},h.prototype.unshift=function(){for(var n,i=0,s=arguments.length;i<s;i++)n=arguments[i],this.head=new p(n,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},h.prototype.pop=function(){if(this.tail){var n=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,n}},h.prototype.shift=function(){if(this.head){var n=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,n}},h.prototype.forEach=function(n,i){i=i||this;for(var s=this.head,t=0;s!==null;t++)n.call(i,s.value,t,this),s=s.next},h.prototype.forEachReverse=function(n,i){i=i||this;for(var s=this.tail,t=this.length-1;s!==null;t--)n.call(i,s.value,t,this),s=s.prev},h.prototype.get=function(n){for(var i=0,s=this.head;s!==null&&i<n;i++)s=s.next;if(i===n&&s!==null)return s.value},h.prototype.getReverse=function(n){for(var i=0,s=this.tail;s!==null&&i<n;i++)s=s.prev;if(i===n&&s!==null)return s.value},h.prototype.map=function(n,i){i=i||this;for(var s=new h,t=this.head;t!==null;)s.push(n.call(i,t.value,this)),t=t.next;return s},h.prototype.mapReverse=function(n,i){i=i||this;for(var s=new h,t=this.tail;t!==null;)s.push(n.call(i,t.value,this)),t=t.prev;return s},h.prototype.reduce=function(n,i){var s,t=this.head;if(arguments.length>1)s=i;else if(this.head)t=this.head.next,s=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=0;t!==null;o++)s=n(s,t.value,o),t=t.next;return s},h.prototype.reduceReverse=function(n,i){var s,t=this.tail;if(arguments.length>1)s=i;else if(this.tail)t=this.tail.prev,s=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;t!==null;o--)s=n(s,t.value,o),t=t.prev;return s},h.prototype.toArray=function(){for(var n=Array(this.length),i=0,s=this.head;s!==null;i++)n[i]=s.value,s=s.next;return n},h.prototype.toArrayReverse=function(){for(var n=Array(this.length),i=0,s=this.tail;s!==null;i++)n[i]=s.value,s=s.prev;return n},h.prototype.slice=function(n,i){(i=i||this.length)<0&&(i+=this.length),(n=n||0)<0&&(n+=this.length);var s=new h;if(i<n||i<0)return s;n<0&&(n=0),i>this.length&&(i=this.length);for(var t=0,o=this.head;o!==null&&t<n;t++)o=o.next;for(;o!==null&&t<i;t++,o=o.next)s.push(o.value);return s},h.prototype.sliceReverse=function(n,i){(i=i||this.length)<0&&(i+=this.length),(n=n||0)<0&&(n+=this.length);var s=new h;if(i<n||i<0)return s;n<0&&(n=0),i>this.length&&(i=this.length);for(var t=this.length,o=this.tail;o!==null&&t>i;t--)o=o.prev;for(;o!==null&&t>n;t--,o=o.prev)s.push(o.value);return s},h.prototype.splice=function(n,i){n>this.length&&(n=this.length-1),n<0&&(n=this.length+n);for(var s=0,t=this.head;t!==null&&s<n;s++)t=t.next;for(var o=[],s=0;t&&s<i;s++)o.push(t.value),t=this.removeNode(t);t===null&&(t=this.tail),t!==this.head&&t!==this.tail&&(t=t.prev);for(var s=2;s<arguments.length;s++)t=function(u,E,x){var S=E===u.head?new p(x,null,E,u):new p(x,E,E.next,u);return S.next===null&&(u.tail=S),S.prev===null&&(u.head=S),u.length++,S}(this,t,arguments[s]);return o},h.prototype.reverse=function(){for(var n=this.head,i=this.tail,s=n;s!==null;s=s.prev){var t=s.prev;s.prev=s.next,s.next=t}return this.head=i,this.tail=n,this};try{m(76)(h)}catch{}}},l={};function y(b){var N=l[b];if(N!==void 0)return N.exports;var m=l[b]={exports:{}},h=!0;try{X[b](m,m.exports,y),h=!1}finally{h&&delete l[b]}return m.exports}y.ab="//";var C=y(806);V.exports=C})()},5257:(V,X,l)=>{"use strict";l.d(X,{B:()=>n});var y=l(8690),C=l(5376),b=l(1673),N=l(1812),m=l(8997);l(5027),l(2738);let h="__prerender_bypass";Symbol("__next_preview_data"),Symbol(h);class p{constructor(s,t,o,f){var u;let E=s&&function(S,j){let R=C.h.from(S.headers);return{isOnDemandRevalidate:R.get(m.y3)===j.previewModeId,revalidateOnlyGenerated:R.has(m.Qq)}}(t,s).isOnDemandRevalidate,x=(u=o.get(h))==null?void 0:u.value;this.isEnabled=!!(!E&&x&&s&&x===s.previewModeId),this._previewModeId=s?.previewModeId,this._mutableCookies=f}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:h,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:h,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}let n={wrap(i,{req:s,res:t,renderOpts:o},f){let u;function E(j){t&&t.setHeader("Set-Cookie",j)}o&&"previewProps"in o&&(u=o.previewProps);let x={},S={get headers(){return x.headers||(x.headers=function(j){let R=C.h.from(j);for(let F of y.vu)R.delete(F.toString().toLowerCase());return C.h.seal(R)}(s.headers)),x.headers},get cookies(){return x.cookies||(x.cookies=function(j){let R=new N.q(C.h.from(j));return b.Qb.seal(R)}(s.headers)),x.cookies},get mutableCookies(){return x.mutableCookies||(x.mutableCookies=function(j,R){let F=new N.q(C.h.from(j));return b.vr.wrap(F,R)}(s.headers,o?.onUpdateCookies||(t?E:void 0))),x.mutableCookies},get draftMode(){return x.draftMode||(x.draftMode=new p(u,s,this.cookies,this.mutableCookies)),x.draftMode},reactLoadableManifest:o?.reactLoadableManifest||{},assetPrefix:o?.assetPrefix||""};return i.run(S,f,S)}}},5514:(V,X,l)=>{V.exports=l(641)},641:(V,X,l)=>{"use strict";l.d(X,{AppRouteRouteModule:()=>Te});var y,C,b={};l.r(b),l.d(b,{AppRouterContext:()=>A,GlobalLayoutRouterContext:()=>W,LayoutRouterContext:()=>v,MissingSlotContext:()=>ge,TemplateContext:()=>_e});var N={};l.r(N),l.d(N,{appRouterContext:()=>b});class m{constructor({userland:$,definition:H}){this.userland=$,this.definition=H}}var h=l(5257),p=l(8427);let n={wrap(k,{urlPathname:$,renderOpts:H,requestEndedState:ye},oe){let z=!H.supportsDynamicHTML&&!H.isDraftMode&&!H.isServerAction,re=z&&H.experimental.ppr?(0,p.FI)(H.isDebugPPRSkeleton):null,B={isStaticGeneration:z,urlPathname:$,pagePath:H.originalPathname,incrementalCache:H.incrementalCache||fe.__incrementalCache,isRevalidate:H.isRevalidate,isPrerendering:H.nextExport,fetchCache:H.fetchCache,isOnDemandRevalidate:H.isOnDemandRevalidate,isDraftMode:H.isDraftMode,prerenderState:re,requestEndedState:ye};return H.store=B,k.run(B,oe,B)}};var i=l(1673);function s(){return new Response(null,{status:400})}function t(){return new Response(null,{status:405})}let o=["GET","HEAD","OPTIONS","POST","PUT","DELETE","PATCH"];var f=l(2113),u=l(5027),E=l(2738),x=l(2780),S=l(9614);(function(k){k[k.SeeOther=303]="SeeOther",k[k.TemporaryRedirect=307]="TemporaryRedirect",k[k.PermanentRedirect=308]="PermanentRedirect"})(y||(y={}));function j(k){if(typeof k!="object"||k===null||!("digest"in k)||typeof k.digest!="string")return!1;let[$,H,ye,oe]=k.digest.split(";",4),z=Number(oe);return $==="NEXT_REDIRECT"&&(H==="replace"||H==="push")&&typeof ye=="string"&&!isNaN(z)&&z in y}(function(k){k.push="push",k.replace="replace"})(C||(C={})),l(6265);let R=["HEAD","OPTIONS"];var F=l(5376),Y=l(2403),ae=l(1548),he=l(6087);let K=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js`),{__esModule:q,$$typeof:c}=K;K.default;let A=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#AppRouterContext`),v=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#LayoutRouterContext`),W=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#GlobalLayoutRouterContext`),_e=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#TemplateContext`),ge=(0,he.D)(String.raw`/home/nikomaru/programming/home-opac/frontend/node_modules/next/dist/esm/shared/lib/app-router-context.shared-runtime.js#MissingSlotContext`);var Ee=l(8690),De=l(2328),Ie=l(8024),Se=l(7398);class Te extends m{static#e=this.sharedModules=N;constructor({userland:$,definition:H,resolvedPagePath:ye,nextConfigOutput:oe}){if(super({userland:$,definition:H}),this.requestAsyncStorage=x.O,this.staticGenerationAsyncStorage=ae.A,this.serverHooks=Y,this.actionAsyncStorage=S.W,this.resolvedPagePath=ye,this.nextConfigOutput=oe,this.methods=function(z){let re=o.reduce((te,ne)=>({...te,[ne]:z[ne]??t}),{}),B=new Set(o.filter(te=>z[te]));for(let te of R.filter(ne=>!B.has(ne))){if(te==="HEAD"){z.GET&&(re.HEAD=z.GET,B.add("HEAD"));continue}if(te==="OPTIONS"){let ne=["OPTIONS",...B];!B.has("HEAD")&&B.has("GET")&&ne.push("HEAD");let we={Allow:ne.sort().join(", ")};re.OPTIONS=()=>new Response(null,{status:204,headers:we}),B.add("OPTIONS");continue}throw Error(`Invariant: should handle all automatic implementable methods, got method: ${te}`)}return re}($),this.hasNonStaticMethods=function(z){return!!z.POST||!!z.POST||!!z.DELETE||!!z.PATCH||!!z.OPTIONS}($),this.dynamic=this.userland.dynamic,this.nextConfigOutput==="export")if(this.dynamic&&this.dynamic!=="auto"){if(this.dynamic==="force-dynamic")throw Error(`export const dynamic = "force-dynamic" on page "${H.pathname}" cannot be used with "output: export". See more info here: https://nextjs.org/docs/advanced-features/static-html-export`)}else this.dynamic="error"}resolve($){return o.includes($)?this.methods[$]:s}async execute($,H){let ye=this.resolve($.method),oe={req:$};oe.renderOpts={previewProps:H.prerenderManifest.preview};let z={urlPathname:$.nextUrl.pathname,renderOpts:H.renderOpts};z.renderOpts.fetchCache=this.userland.fetchCache;let re=await this.actionAsyncStorage.run({isAppRoute:!0,isAction:function(B){let te,ne;B.headers instanceof Headers?(te=B.headers.get(Ee.om.toLowerCase())??null,ne=B.headers.get("content-type")):(te=B.headers[Ee.om.toLowerCase()]??null,ne=B.headers["content-type"]??null);let we=B.method==="POST"&&ne==="application/x-www-form-urlencoded",Q=!!(B.method==="POST"&&ne?.startsWith("multipart/form-data")),ue=te!==void 0&&typeof te=="string"&&B.method==="POST";return{actionId:te,isURLEncodedAction:we,isMultipartAction:Q,isFetchAction:ue,isServerAction:!!(ue||we||Q)}}($).isServerAction},()=>h.B.wrap(this.requestAsyncStorage,oe,()=>n.wrap(this.staticGenerationAsyncStorage,z,B=>{var te;let ne=B.isStaticGeneration;if(this.hasNonStaticMethods){if(ne){let ue=new Y.DynamicServerError("Route is configured with methods that cannot be statically generated.");throw B.dynamicUsageDescription=ue.message,B.dynamicUsageStack=ue.stack,ue}B.revalidate=0}let we=$;switch(this.dynamic){case"force-dynamic":B.forceDynamic=!0;break;case"force-static":B.forceStatic=!0,we=new Proxy($,Ue);break;case"error":B.dynamicShouldError=!0,ne&&(we=new Proxy($,$e));break;default:we=function(ue,le){let Pe={get(se,xe,Ne){switch(xe){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":return(0,p.TP)(le,`nextUrl.${xe}`),Se.g.get(se,xe,Ne);case"clone":return se[ke]||(se[ke]=()=>new Proxy(se.clone(),Pe));default:return Se.g.get(se,xe,Ne)}}},ce={get(se,xe){switch(xe){case"nextUrl":return se[Ce]||(se[Ce]=new Proxy(se.nextUrl,Pe));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":return(0,p.TP)(le,`request.${xe}`),Se.g.get(se,xe,se);case"clone":return se[Re]||(se[Re]=()=>new Proxy(se.clone(),ce));default:return Se.g.get(se,xe,se)}}};return new Proxy(ue,ce)}($,B)}B.revalidate??=this.userland.revalidate??!1;let Q=function(ue){let le="/app/";ue.includes(le)||(le="\\app\\");let[,...Pe]=ue.split(le);return(le[0]+Pe.join(le)).split(".").slice(0,-1).join(".")}(this.resolvedPagePath);return(te=(0,u.Yz)().getRootSpanAttributes())==null||te.set("next.route",Q),(0,u.Yz)().trace(E.PB.runHandler,{spanName:`executing api route (app) ${Q}`,attributes:{"next.route":Q}},async()=>{var ue;(0,f.XH)({serverHooks:this.serverHooks,staticGenerationAsyncStorage:this.staticGenerationAsyncStorage});let le=await ye(we,{params:H.params?function(ce){let se={};for(let[xe,Ne]of Object.entries(ce))Ne!==void 0&&(se[xe]=Ne);return se}(H.params):void 0});if(!(le instanceof Response))throw Error(`No response is returned from route handler '${this.resolvedPagePath}'. Ensure you return a \`Response\` or a \`NextResponse\` in all branches of your handler.`);H.renderOpts.fetchMetrics=B.fetchMetrics,H.renderOpts.waitUntil=Promise.all(Object.values(B.pendingRevalidates||[])),(0,f.RQ)(B),H.renderOpts.fetchTags=(ue=B.tags)==null?void 0:ue.join(",");let Pe=this.requestAsyncStorage.getStore();if(Pe&&Pe.mutableCookies){let ce=new Headers(le.headers);if((0,i._5)(ce,Pe.mutableCookies))return new Response(le.body,{status:le.status,statusText:le.statusText,headers:ce})}return le})})));if(!(re instanceof Response))return new Response(null,{status:500});if(re.headers.has("x-middleware-rewrite"))throw Error("NextResponse.rewrite() was used in a app route handler, this is not currently supported. Please remove the invocation to continue.");if(re.headers.get("x-middleware-next")==="1")throw Error("NextResponse.next() was used in a app route handler, this is not supported. See here for more info: https://nextjs.org/docs/messages/next-response-next-in-app-route-handler");return re}async handle($,H){try{return await this.execute($,H)}catch(ye){let oe=function(z){if(j(z)){let re=j(z)?z.digest.split(";",3)[2]:null;if(!re)throw Error("Invariant: Unexpected redirect url format");let B=function(te){if(!j(te))throw Error("Not a redirect error");return Number(te.digest.split(";",4)[3])}(z);return function(te,ne,we){let Q=new Headers({location:te});return(0,i._5)(Q,ne),new Response(null,{status:we,headers:Q})}(re,z.mutableCookies,B)}return typeof z=="object"&&z!==null&&"digest"in z&&z.digest==="NEXT_NOT_FOUND"&&new Response(null,{status:404})}(ye);if(!oe)throw ye;return oe}}}let Ce=Symbol("nextUrl"),Re=Symbol("clone"),ke=Symbol("clone"),Me=Symbol("searchParams"),He=Symbol("href"),je=Symbol("toString"),ie=Symbol("headers"),Le=Symbol("cookies"),Ue={get(k,$,H){switch($){case"headers":return k[ie]||(k[ie]=F.h.seal(new Headers({})));case"cookies":return k[Le]||(k[Le]=i.Qb.seal(new De.RequestCookies(new Headers({}))));case"nextUrl":return k[Ce]||(k[Ce]=new Proxy(k.nextUrl,Oe));case"url":return H.nextUrl.href;case"geo":case"ip":return;case"clone":return k[Re]||(k[Re]=()=>new Proxy(k.clone(),Ue));default:return Se.g.get(k,$,H)}}},Oe={get(k,$,H){switch($){case"search":return"";case"searchParams":return k[Me]||(k[Me]=new URLSearchParams);case"href":return k[He]||(k[He]=function(ye){let oe=new URL(ye);return oe.host="localhost:3000",oe.search="",oe.protocol="http",oe}(k.href).href);case"toJSON":case"toString":return k[je]||(k[je]=()=>H.href);case"url":return;case"clone":return k[ke]||(k[ke]=()=>new Proxy(k.clone(),Oe));default:return Se.g.get(k,$,H)}}},$e={get(k,$,H){switch($){case"nextUrl":return k[Ce]||(k[Ce]=new Proxy(k.nextUrl,qe));case"headers":case"cookies":case"url":case"body":case"blob":case"json":case"text":case"arrayBuffer":case"formData":throw new Ie.G(`Route ${k.nextUrl.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`request.${$}\`.`);case"clone":return k[Re]||(k[Re]=()=>new Proxy(k.clone(),$e));default:return Se.g.get(k,$,H)}}},qe={get(k,$,H){switch($){case"search":case"searchParams":case"url":case"href":case"toJSON":case"toString":case"origin":throw new Ie.G(`Route ${k.pathname} with \`dynamic = "error"\` couldn't be rendered statically because it used \`nextUrl.${$}\`.`);case"clone":return k[ke]||(k[ke]=()=>new Proxy(k.clone(),qe));default:return Se.g.get(k,$,H)}}}},5376:(V,X,l)=>{"use strict";l.d(X,{h:()=>b});var y=l(7398);class C extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new C}}class b extends Headers{constructor(m){super(),this.headers=new Proxy(m,{get(h,p,n){if(typeof p=="symbol")return y.g.get(h,p,n);let i=p.toLowerCase(),s=Object.keys(m).find(t=>t.toLowerCase()===i);if(s!==void 0)return y.g.get(h,s,n)},set(h,p,n,i){if(typeof p=="symbol")return y.g.set(h,p,n,i);let s=p.toLowerCase(),t=Object.keys(m).find(o=>o.toLowerCase()===s);return y.g.set(h,t??p,n,i)},has(h,p){if(typeof p=="symbol")return y.g.has(h,p);let n=p.toLowerCase(),i=Object.keys(m).find(s=>s.toLowerCase()===n);return i!==void 0&&y.g.has(h,i)},deleteProperty(h,p){if(typeof p=="symbol")return y.g.deleteProperty(h,p);let n=p.toLowerCase(),i=Object.keys(m).find(s=>s.toLowerCase()===n);return i===void 0||y.g.deleteProperty(h,i)}})}static seal(m){return new Proxy(m,{get(h,p,n){switch(p){case"append":case"delete":case"set":return C.callable;default:return y.g.get(h,p,n)}}})}merge(m){return Array.isArray(m)?m.join(", "):m}static from(m){return m instanceof Headers?m:new b(m)}append(m,h){let p=this.headers[m];typeof p=="string"?this.headers[m]=[p,h]:Array.isArray(p)?p.push(h):this.headers[m]=h}delete(m){delete this.headers[m]}get(m){let h=this.headers[m];return h!==void 0?this.merge(h):null}has(m){return this.headers[m]!==void 0}set(m,h){this.headers[m]=h}forEach(m,h){for(let[p,n]of this.entries())m.call(h,n,p,this)}*entries(){for(let m of Object.keys(this.headers)){let h=m.toLowerCase(),p=this.get(h);yield[h,p]}}*keys(){for(let m of Object.keys(this.headers))yield m.toLowerCase()}*values(){for(let m of Object.keys(this.headers))yield this.get(m)}[Symbol.iterator](){return this.entries()}}},1673:(V,X,l)=>{"use strict";l.d(X,{Qb:()=>m,_5:()=>p,vr:()=>n});var y=l(1812),C=l(7398),b=l(1548);class N extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new N}}class m{static seal(s){return new Proxy(s,{get(t,o,f){switch(o){case"clear":case"delete":case"set":return N.callable;default:return C.g.get(t,o,f)}}})}}let h=Symbol.for("next.mutated.cookies");function p(i,s){let t=function(u){let E=u[h];return E&&Array.isArray(E)&&E.length!==0?E:[]}(s);if(t.length===0)return!1;let o=new y.n(i),f=o.getAll();for(let u of t)o.set(u);for(let u of f)o.set(u);return!0}class n{static wrap(s,t){let o=new y.n(new Headers);for(let x of s.getAll())o.set(x);let f=[],u=new Set,E=()=>{let x=b.A.getStore();if(x&&(x.pathWasRevalidated=!0),f=o.getAll().filter(S=>u.has(S.name)),t){let S=[];for(let j of f){let R=new y.n(new Headers);R.set(j),S.push(R.toString())}t(S)}};return new Proxy(o,{get(x,S,j){switch(S){case h:return f;case"delete":return function(...R){u.add(typeof R[0]=="string"?R[0]:R[0].name);try{x.delete(...R)}finally{E()}};case"set":return function(...R){u.add(typeof R[0]=="string"?R[0]:R[0].name);try{return x.set(...R)}finally{E()}};default:return C.g.get(x,S,j)}}})}}},1812:(V,X,l)=>{"use strict";l.d(X,{n:()=>y.ResponseCookies,q:()=>y.RequestCookies});var y=l(2328)},9859:V=>{"use strict";V.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},6765:(V,X,l)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),function(m,h){for(var p in h)Object.defineProperty(m,p,{enumerable:!0,get:h[p]})}(X,{getTestReqInfo:function(){return N},withRequest:function(){return b}});let y=new(l(2067)).AsyncLocalStorage;function C(m,h){let p=h.header(m,"next-test-proxy-port");if(p)return{url:h.url(m),proxyPort:Number(p),testData:h.header(m,"next-test-data")||""}}function b(m,h,p){let n=C(m,h);return n?y.run(n,p):p()}function N(m,h){return y.getStore()||(m&&h?C(m,h):void 0)}},8536:(V,X,l)=>{"use strict";var y=l(6195).Buffer;Object.defineProperty(X,"__esModule",{value:!0}),function(p,n){for(var i in n)Object.defineProperty(p,i,{enumerable:!0,get:n[i]})}(X,{handleFetch:function(){return m},interceptFetch:function(){return h},reader:function(){return b}});let C=l(6765),b={url:p=>p.url,header:(p,n)=>p.headers.get(n)};async function N(p,n){let{url:i,method:s,headers:t,body:o,cache:f,credentials:u,integrity:E,mode:x,redirect:S,referrer:j,referrerPolicy:R}=n;return{testData:p,api:"fetch",request:{url:i,method:s,headers:[...Array.from(t),["next-test-stack",function(){let F=(Error().stack??"").split(`
`);for(let Y=1;Y<F.length;Y++)if(F[Y].length>0){F=F.slice(Y);break}return(F=(F=(F=F.filter(Y=>!Y.includes("/next/dist/"))).slice(0,5)).map(Y=>Y.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:o?y.from(await n.arrayBuffer()).toString("base64"):null,cache:f,credentials:u,integrity:E,mode:x,redirect:S,referrer:j,referrerPolicy:R}}}async function m(p,n){let i=(0,C.getTestReqInfo)(n,b);if(!i)return p(n);let{testData:s,proxyPort:t}=i,o=await N(s,n),f=await p(`http://localhost:${t}`,{method:"POST",body:JSON.stringify(o),next:{internal:!0}});if(!f.ok)throw Error(`Proxy request failed: ${f.status}`);let u=await f.json(),{api:E}=u;switch(E){case"continue":return p(n);case"abort":case"unhandled":throw Error(`Proxy request aborted [${n.method} ${n.url}]`)}return function(x){let{status:S,headers:j,body:R}=x.response;return new Response(R?y.from(R,"base64"):null,{status:S,headers:new Headers(j)})}(u)}function h(p){return l.g.fetch=function(n,i){var s;return!(i==null||(s=i.next)==null)&&s.internal?p(n,i):m(p,new Request(n,i))},()=>{l.g.fetch=p}}},5524:(V,X,l)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),function(m,h){for(var p in h)Object.defineProperty(m,p,{enumerable:!0,get:h[p]})}(X,{interceptTestApis:function(){return b},wrapRequestHandler:function(){return N}});let y=l(6765),C=l(8536);function b(){return(0,C.interceptFetch)(l.g.fetch)}function N(m){return(h,p)=>(0,y.withRequest)(h,C.reader,()=>m(h,p))}}},V=>{var X=y=>V(V.s=y);V.O(0,[531],()=>X(3503));var l=V.O();(fe._ENTRIES=typeof fe._ENTRIES>"u"?{}:fe._ENTRIES)["middleware_app/api/hello/route"]=l}]),function(){let V={exports:{},loaded:!1};return function(l,y){var C=Object.defineProperty,b=t=>C(t,"__esModule",{value:!0}),N=(t,o)=>{b(t);for(var f in o)C(t,f,{get:o[f],enumerable:!0})};N(y,{default:()=>p});function m(t){let o={};return t&&t.forEach((f,u)=>{o[u]=f,u.toLowerCase()==="set-cookie"&&(o[u]=h(f))}),o}function h(t){let o=[],f=0,u,E,x,S,j;function R(){for(;f<t.length&&/\s/.test(t.charAt(f));)f+=1;return f<t.length}function F(){return E=t.charAt(f),E!=="="&&E!==";"&&E!==","}for(;f<t.length;){for(u=f,j=!1;R();)if(E=t.charAt(f),E===","){for(x=f,f+=1,R(),S=f;f<t.length&&F();)f+=1;f<t.length&&t.charAt(f)==="="?(j=!0,f=S,o.push(t.substring(u,x)),u=f):f=x+1}else f+=1;(!j||f>=t.length)&&o.push(t.substring(u,t.length))}return o}function p(t){let o=t.staticRoutes.map(u=>({regexp:new RegExp(u.namedRegex),page:u.page})),f=t.dynamicRoutes?.map(u=>({regexp:new RegExp(u.namedRegex),page:u.page}))||[];return async function(u,E){let x=new URL(u.url).pathname,S={};if(t.nextConfig?.basePath&&x.startsWith(t.nextConfig.basePath)&&(x=x.replace(t.nextConfig.basePath,"")||"/"),t.nextConfig?.i18n)for(let R of t.nextConfig.i18n.locales){let F=new RegExp(`^/${R}($|/)`,"i");if(x.match(F)){x=x.replace(F,"/")||"/";break}}for(let R of o)if(R.regexp.exec(x)){S.name=R.page;break}if(!S.name){let R=i(x);for(let F of f||[]){if(R&&!i(F.page))continue;let Y=F.regexp.exec(x);if(Y){S={name:F.page,params:Y.groups};break}}}let j=await fe._ENTRIES[`middleware_${t.name}`].default.call({},{request:{url:u.url,method:u.method,headers:m(u.headers),ip:n(u.headers,s.Ip),geo:{city:n(u.headers,s.City,!0),country:n(u.headers,s.Country,!0),latitude:n(u.headers,s.Latitude),longitude:n(u.headers,s.Longitude),region:n(u.headers,s.Region,!0)},nextConfig:t.nextConfig,page:S,body:u.body}});return E.waitUntil(j.waitUntil),j.response}}function n(t,o,f=!1){let u=t.get(o)||void 0;return f&&u?decodeURIComponent(u):u}function i(t){return t==="/api"||t.startsWith("/api/")}var s;(function(t){t.City="x-vercel-ip-city",t.Country="x-vercel-ip-country",t.Ip="x-real-ip",t.Latitude="x-vercel-ip-latitude",t.Longitude="x-vercel-ip-longitude",t.Region="x-vercel-ip-country-region"})(s||(s={}))}(V,V.exports),V.exports}.call({}).default({name:"app/api/hello/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/favicon.ico",regex:"^/favicon\\.ico(?:/)?$",routeKeys:{},namedRegex:"^/favicon\\.ico(?:/)?$"}],dynamicRoutes:[],nextConfig:{basePath:""}})))(Ae,Ae,Ae);export{dr as default};
